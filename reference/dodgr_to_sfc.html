<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Convert a dodgr graph into an equivalent sf::sfc object. — dodgr_to_sfc • dodgr</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Convert a dodgr graph into an equivalent sf::sfc object. — dodgr_to_sfc"><meta name="description" content="Convert a dodgr graph into a list composed of
two objects: dat, a data.frame; and
geometry, an sfc object from the (sf) package.
Works by aggregating edges into LINESTRING
objects representing longest sequences between all junction nodes. The
resultant objects will generally contain more LINESTRING objects than
the original sf object, because the former will be bisected at every
junction point."><meta property="og:description" content="Convert a dodgr graph into a list composed of
two objects: dat, a data.frame; and
geometry, an sfc object from the (sf) package.
Works by aggregating edges into LINESTRING
objects representing longest sequences between all junction nodes. The
resultant objects will generally contain more LINESTRING objects than
the original sf object, because the former will be bisected at every
junction point."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="default" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">dodgr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.4.1.028</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../index.html">Home</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/index.html">Vignettes</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Functions</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="https://github.com/UrbanAnalyst/dodgr"><span class="fa fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Convert a <code>dodgr</code> graph into an equivalent <code>sf::sfc</code> object.</h1>
      <small class="dont-index">Source: <a href="https://github.com/UrbanAnalyst/dodgr/blob/main/R/graph-conversion.R" class="external-link"><code>R/graph-conversion.R</code></a></small>
      <div class="d-none name"><code>dodgr_to_sfc.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Convert a <code>dodgr</code> graph into a <code>list</code> composed of
two objects: <code>dat</code>, a <code>data.frame</code>; and
<code>geometry</code>, an <code>sfc</code> object from the (<span class="pkg">sf</span>) package.
Works by aggregating edges into <code>LINESTRING</code>
objects representing longest sequences between all junction nodes. The
resultant objects will generally contain more <code>LINESTRING</code> objects than
the original <span class="pkg">sf</span> object, because the former will be bisected at every
junction point.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">dodgr_to_sfc</span><span class="op">(</span><span class="va">graph</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-graph">graph<a class="anchor" aria-label="anchor" href="#arg-graph"></a></dt>
<dd><p>A <code>dodgr</code> graph</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A list containing (1) A <code>data.frame</code> of data associated with the
<code>sf</code> geometries; and (ii) A Simple Features Collection (<code>sfc</code>) list of
<code>LINESTRING</code> objects.</p>
    </div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p>The output of this function corresponds to the edges obtained from
<code>dodgr_contract_graph</code>. This function does not require the <span class="pkg">sf</span> package
to be installed; the corresponding function that creates a full <span class="pkg">sf</span>
object - <a href="dodgr_to_sf.html">dodgr_to_sf</a> does requires <span class="pkg">sf</span> to be installed.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other conversion:
<code><a href="dodgr_deduplicate_graph.html">dodgr_deduplicate_graph</a>()</code>,
<code><a href="dodgr_to_igraph.html">dodgr_to_igraph</a>()</code>,
<code><a href="dodgr_to_sf.html">dodgr_to_sf</a>()</code>,
<code><a href="dodgr_to_tidygraph.html">dodgr_to_tidygraph</a>()</code>,
<code><a href="igraph_to_dodgr.html">igraph_to_dodgr</a>()</code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">hw</span> <span class="op">&lt;-</span> <span class="fu"><a href="weight_streetnet.html">weight_streetnet</a></span> <span class="op">(</span><span class="va">hampi</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span> <span class="op">(</span><span class="va">hw</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 6813</span>
<span class="r-in"><span><span class="va">xy</span> <span class="op">&lt;-</span> <span class="fu">dodgr_to_sfc</span> <span class="op">(</span><span class="va">hw</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></span> <span class="op">(</span><span class="va">hw</span><span class="op">)</span> <span class="co"># 5.845 edges</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 6813   16</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span> <span class="op">(</span><span class="va">xy</span><span class="op">$</span><span class="va">geometry</span><span class="op">)</span> <span class="co"># more linestrings aggregated from those edges</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 744</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span> <span class="op">(</span><span class="va">hampi</span><span class="op">)</span> <span class="co"># than the 191 linestrings in original sf object</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 236</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></span> <span class="op">(</span><span class="va">xy</span><span class="op">$</span><span class="va">dat</span><span class="op">)</span> <span class="co"># same number of rows as there are geometries</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 744  16</span>
<span class="r-in"><span><span class="co"># The dodgr_to_sf function then just implements this final conversion:</span></span></span>
<span class="r-in"><span><span class="co"># sf::st_sf (xy$dat, geometry = xy$geometry, crs = 4326)</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Mark Padgham, Andreas Petutschnig, David Cooley.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

