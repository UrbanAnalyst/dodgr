<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Calculate isochrone contours from specified points. — dodgr_isochrones • dodgr</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Calculate isochrone contours from specified points. — dodgr_isochrones"><meta name="description" content="Calculates isochrones from input data.frame objects
(graph), which must minimally contain three columns of from, to, and
t or time. If an additional column named t_weight or t_wt is
present, fastest paths are calculated according to values specified in that
column, while resultant isochrones are calculated from the t or time
column. That is, the paths tracing isochrones from any point will be
calculated according to the minimal total sum of t_weight values (if
present), while reported isochrones will be total sums of time values.
Graphs derived from Open Street Map street networks, via the
weight_streetnet function, have columns labelled d, d_weighted,
time, and time_weighted. For these inputs, isochrones are always routed
using t_weighted, while final isochrones are sums of values of t - that
is, of un-weighted distances or times - along those paths.
Function is fully vectorized to calculate accept vectors of central points
and vectors defining multiple isochrones. Calculations use by default
parallel computation with the maximal number of available cores or threads.
This number can be reduced by specifying a value via
RcppParallel::setThreadOptions (numThreads = &amp;lt;desired_number&amp;gt;)."><meta property="og:description" content="Calculates isochrones from input data.frame objects
(graph), which must minimally contain three columns of from, to, and
t or time. If an additional column named t_weight or t_wt is
present, fastest paths are calculated according to values specified in that
column, while resultant isochrones are calculated from the t or time
column. That is, the paths tracing isochrones from any point will be
calculated according to the minimal total sum of t_weight values (if
present), while reported isochrones will be total sums of time values.
Graphs derived from Open Street Map street networks, via the
weight_streetnet function, have columns labelled d, d_weighted,
time, and time_weighted. For these inputs, isochrones are always routed
using t_weighted, while final isochrones are sums of values of t - that
is, of un-weighted distances or times - along those paths.
Function is fully vectorized to calculate accept vectors of central points
and vectors defining multiple isochrones. Calculations use by default
parallel computation with the maximal number of available cores or threads.
This number can be reduced by specifying a value via
RcppParallel::setThreadOptions (numThreads = &amp;lt;desired_number&amp;gt;)."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="default" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">dodgr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.4.3.004</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../index.html">Home</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/index.html">Vignettes</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Functions</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="https://github.com/UrbanAnalyst/dodgr"><span class="fa fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Calculate isochrone contours from specified points.</h1>
      <small class="dont-index">Source: <a href="https://github.com/UrbanAnalyst/dodgr/blob/main/R/iso.R" class="external-link"><code>R/iso.R</code></a></small>
      <div class="d-none name"><code>dodgr_isochrones.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Calculates isochrones from input <code>data.frame</code> objects
(<code>graph</code>), which must minimally contain three columns of <code>from</code>, <code>to</code>, and
<code>t</code> or <code>time</code>. If an additional column named <code>t_weight</code> or <code>t_wt</code> is
present, fastest paths are calculated according to values specified in that
column, while resultant isochrones are calculated from the <code>t</code> or <code>time</code>
column. That is, the paths tracing isochrones from any point will be
calculated according to the minimal total sum of <code>t_weight</code> values (if
present), while reported isochrones will be total sums of <code>time</code> values.</p>
<p>Graphs derived from Open Street Map street networks, via the
<a href="weight_streetnet.html">weight_streetnet</a> function, have columns labelled <code>d</code>, <code>d_weighted</code>,
<code>time</code>, and <code>time_weighted</code>. For these inputs, isochrones are always routed
using <code>t_weighted</code>, while final isochrones are sums of values of <code>t</code> - that
is, of un-weighted distances or times - along those paths.</p>
<p>Function is fully vectorized to calculate accept vectors of central points
and vectors defining multiple isochrones. Calculations use by default
parallel computation with the maximal number of available cores or threads.
This number can be reduced by specifying a value via
<code>RcppParallel::setThreadOptions (numThreads = &lt;desired_number&gt;)</code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">dodgr_isochrones</span><span class="op">(</span></span>
<span>  <span class="va">graph</span>,</span>
<span>  from <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  tlim <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  concavity <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  length_threshold <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  heap <span class="op">=</span> <span class="st">"BHeap"</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-graph">graph<a class="anchor" aria-label="anchor" href="#arg-graph"></a></dt>
<dd><p><code>data.frame</code> or equivalent object representing the network
graph. For <code>dodgr</code> street networks, this must be a network derived from
<span class="pkg">silicate</span> ("sc") data, generated with <a href="weight_streetnet.html">weight_streetnet</a>. This
function does not work with networks derived from <span class="pkg">sf</span> data.</p></dd>


<dt id="arg-from">from<a class="anchor" aria-label="anchor" href="#arg-from"></a></dt>
<dd><p>Vector or matrix of points <strong>from</strong> which isochrones are to
be calculated.</p></dd>


<dt id="arg-tlim">tlim<a class="anchor" aria-label="anchor" href="#arg-tlim"></a></dt>
<dd><p>Vector of desired limits of isochrones in seconds</p></dd>


<dt id="arg-concavity">concavity<a class="anchor" aria-label="anchor" href="#arg-concavity"></a></dt>
<dd><p>A value between 0 and 1, with 0 giving (generally smoother
but less detailed) convex iso-contours and 1 giving highly concave (and
generally more detailed) contours.</p></dd>


<dt id="arg-length-threshold">length_threshold<a class="anchor" aria-label="anchor" href="#arg-length-threshold"></a></dt>
<dd><p>The minimal length of a segment of the iso-contour
to be made more convex according to the 'concavity` parameter.. Low values
will produce highly detailed hulls which may cause problems; if in doubt, or
if odd results appear, increase this value.</p></dd>


<dt id="arg-heap">heap<a class="anchor" aria-label="anchor" href="#arg-heap"></a></dt>
<dd><p>Type of heap to use in priority queue. Options include
Fibonacci Heap (default; <code>FHeap</code>), Binary Heap (<code>BHeap</code>),
Trinomial Heap (<code>TriHeap</code>), Extended Trinomial Heap
(<code>TriHeapExt</code>, and 2-3 Heap (<code>Heap23</code>).</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A single <code>data.frame</code> of isochrones as points sorted anticlockwise
around each origin (<code>from</code>) point, with columns denoting the <code>from</code> points
and <code>tlim</code> value(s). The isochrones are given as <code>id</code> values and associated
coordinates of the series of points from each <code>from</code> point at the specified
isochrone times.</p>
<p>Isochrones are calculated by default using parallel computation with the
maximal number of available cores or threads. This number can be reduced by
specifying a value via <code>RcppParallel::setThreadOptions (numThreads = &lt;desired_number&gt;)</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other iso:
<code><a href="dodgr_isodists.html">dodgr_isodists</a>()</code>,
<code><a href="dodgr_isoverts.html">dodgr_isoverts</a>()</code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># Use osmdata package to extract 'SC'-format data:</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span> <span class="op">(</span><span class="va"><a href="https://docs.ropensci.org/osmdata/" class="external-link">osmdata</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://docs.ropensci.org/osmdata/reference/opq.html" class="external-link">opq</a></span> <span class="op">(</span><span class="st">"hampi india"</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://docs.ropensci.org/osmdata/reference/add_osm_feature.html" class="external-link">add_osm_feature</a></span> <span class="op">(</span>key <span class="op">=</span> <span class="st">"highway"</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://docs.ropensci.org/osmdata/reference/osmdata_sc.html" class="external-link">osmdata_sc</a></span> <span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">graph</span> <span class="op">&lt;-</span> <span class="fu"><a href="weight_streetnet.html">weight_streetnet</a></span> <span class="op">(</span><span class="va">dat</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">from</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span> <span class="op">(</span><span class="va">graph</span><span class="op">$</span><span class="va">.vx0</span>, size <span class="op">=</span> <span class="fl">100</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">tlim</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span> <span class="op">(</span><span class="fl">5</span>, <span class="fl">10</span>, <span class="fl">20</span>, <span class="fl">30</span>, <span class="fl">60</span><span class="op">)</span> <span class="op">*</span> <span class="fl">60</span> <span class="co"># times in seconds</span></span></span>
<span class="r-in"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu">dodgr_isochrones</span> <span class="op">(</span><span class="va">graph</span>, from <span class="op">=</span> <span class="va">from</span>, <span class="va">tlim</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Mark Padgham, Andreas Petutschnig, David Cooley.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

